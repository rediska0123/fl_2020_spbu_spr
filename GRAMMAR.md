# Документация

## Инициализация

Для инициализации необходимо выполнить следующую команду в корне репозитория:
```buildoutcfg
pip3 install requirements.txt
```

## Использование

* Для запуска парсера контекстно-свободной грамматики из файла `filepath` необходимо выполнить из папки `src`:

```buildoutcfg
python3 grammar_parser.py --inp `filepath`
```

Если грамматика распарсилась, выведется сообщение `Parsed successfully!` и результат, иначе выведется ошибка.

* Для запуска всех тестов (файлы, начинающиеся с `test_`), из папки `src` необходимо выполнить

```buildoutcfg
python3 -m pytest
```

* Для запуска алгоритма CYK для грамматики, записанной в файле `grammar_path` с соответствии с синтаксисом ниже, и строчкой в файле `str_path`, необходио из папки `src` выполнить:

```buildoutcfg
python3 cyk.py --g `grammar_path` --s `str_path`
```

Терминалы в строчке из `str_path` должны быть перечислены через запятую, без пробелов. Пример файла `grammar_path` - `examples/grammar_example`, пример файла `str_path` - `examples/grammar_str`. Они будут запущены по умолчанию, если не передавать аргументы `--g` и `--s`.

Скрипт выведет результат CYK (принадлежит ли строчка грамматике, или нет), затем выведет исходную грамматику в номральной форме Хомского, затем выведет таблицу алгоритма CYK.

## Синтаксис контекстно-свободных грамматик

Изпользуемый синтаксис контекстно-свободных грамматик включает в себя следующие токены:

***Терминальные символы*** - строки любой положительной длины, состоящие из строчных латинских букв;

***Нетерминальные символы*** - строки любой положительной длины, состоящие из заглавных латинских букв.

***Eps-символ*** - строка `ϵ`, обоначает пустую строку.

Оставшиеся токены `Rhs, Rule, Grammar` можно образовывать, испольуя правила из приведенной ниже таблицы.

В таблице:
 
* `nt` - любой нетерминальный символ;
* `s1`, ..., `sk` - любые символы (каждый из них может быть терминальным, нетерминальным или eps-символом);
* `rhs1`, ..., `rhsk` - конструкции, образованные правилами **Rhs**.
* `rule1`, ..., `rulek` - конструкции, образованные правилами **Rule**; 
* `k` - целое положительное число.

Правило     | Синтаксис                       | Описание                                 | Пример
------------|---------------------------------|------------------------------------------|----------
**Rhs**     | `s1,s2,...,sk`                  | Правая часть правила вывода в грамматике | `A,aSbS,ϵ`
**Rule**    | `nt -> rhs1\|rhs2\|...\|rhsk`   | Правила из нетерминала `nt`              | `S->ϵ\|aSbS`   
**Grammar** | `rule1\nrule2\n...rulek\n`      | Описание грамматики: множество правил    | `S->ϵ\|aSbS\n`

* Пробелы и символы табуляции разрешается ставить между токенами в любом количестве (кроме мест между символами стрелочки `->`);
* Символы переноса строки необходимо ставить только по одному разу между конструкциями **Rule** и один раз в конце грамматики.

***Начальный нетерминал*** - всегда символ `S`.

***Корректная грамматика*** - любая конструкция, образованная правилом **Grammar*.*

#### Примеры грамматик

* Правильные скобочные последовательности (`a` ~ `(`; `b` ~ `)`):
```buildoutcfg
S->ϵ|aSbS

```
* Грамматика из домашнего задания 5:
```buildoutcfg
S -> R,S | R
R -> a,S,b | c,R,d
R -> a,b | c,d | ϵ

``` 

#### Примеры некорректных грамматик
* `Sa` не является ни терминальным, ни нетерминальным:
```buildoutcfg
Sa -> B

```
* Нужен `Enter` в конце:
```buildoutcfg
S -> B
```
* Некорректно расставлены `Enter`:
```buildoutcfg
A->B C->D

```
