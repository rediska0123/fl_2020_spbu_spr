# Синтаксис языка LLang 

## Имена переменных

Имя переменной – любая строка, у которой:
- первый символ – заглавная или строчная буква английского алфавита, либо символ `_`
- остальные символы – либо заглавные или строчные буквы английского алфавита, либо цифры, либо символ `_`

Примеры корректных имен переменных:
- `Abc123`
- `a`
- `a_v1_2`
- `_`
- `While`

Примеры некорректных имен переменных:

- `1a`
- `a'`

## Выражения

Корректными выражениями в языке LLang являются натуральные числа или ноль (записываются в десятичной записи: например `12`; разрешаются префиксные нули: например `0012`), переменные (любое корректное имя из предыдущего абзаца) и любые конструкции, которые могут быть образованы с помощью чисел, переменных и операций в таблице ниже:

Пусть `a, b` – корректные выражения в языке LLang. Тогда любые конструкции, образованные по правилам ниже, являются корректными выражениями в языке LLang.

Операция | Ситнаксис | Определение                                                                          | Ассоциативность   | Приоритет
---------|-----------|--------------------------------------------------------------------------------------|-------------------|----------
 `\|\|`  | `a\|\|b`  | 1, если хотя бы один из результатов вычисления `a` и `b` не равен нулю, 0 иначе      | Правоассоциативна | 1
 `&&`    | `a&&b`    | 1, если оба результата вычисления `a` и `b` не равны нулю, 0 иначе                   | Правоассоциативна | 2
 `!`     | `!a`      | 1, если результат вычисления `a` равен 0, 0 иначе                                    | Неассоциативна    | 3
 `==`    | `a==b`    | 1, если результат вычисления `a` совпадает с результатом вычисления `b`, 0 иначе     | Неассоциативна    | 4
 `/=`    | `a/=b`    | 1, если результат вычисления `a` не совпадает с результатом вычисления `b`, 0 иначе  | Неассоциативна    | 4
 `>=`    | `a>=b`    | 1, если результат вычисления `a` не меньше результата вычисления `b`, 0 иначе        | Неассоциативна    | 4
 `>`     | `a>b`     | 1, если результат вычисления `a` больше результата вычисления `b`, 0 иначе           | Неассоциативна    | 4
 `<=`    | `a<=b`    | 1, если результат вычисления `a` не больше результата вычисления `b`, 0 иначе        | Неассоциативна    | 4
 `<`     | `a<b`     | 1, если результат вычисления `a` меньше результата вычисления `b`, 0 иначе           | Неассоциативна    | 4
 `+`     | `a+b`     | сумма результатов вычисления выражений `a` и `b`                                     | Левоассоциативна  | 5
 `-`     | `a-b`     | разница результатов вычисления выражений `a` и `b`                                   | Левоассоциативна  | 5
 `*`     | `a*b`     | произведение результатов вычисления выражений `a` и `b`                              | Левоассоциативна  | 6
 `/`     | `a/b`     | целая часть от деления результата вычисления выражения `a` на результат `b`          | Левоассоциативна  | 6
 `-`     | `-a`      | значение, противоположное результату вычисления выражения `a`                        | Неассоциативна    | 7
 `^`     | `a^b`     | возведение результата вычисления выражения `a` в степень результата `b`              | Правоассоциативна | 8

 
Первыми считаются операции с наименьшим приоритетом.

Кроме этого если `arg1, ..., argn` – корректные выражения, а `f` – корректное имя переменной, конструкция `f(arg1, ..., argn)` так же является корректным выражением в LLang и обозначает вызов функции `f` с аргументами `arg1, ..., argn`.

Допускается писать скобки для правильного расставления приоритетов, не допускается писать пробелы, символы табуляции и/или переносы строки внутри выражения.

Примеры корректных выражений:
- `(1+2)*3||0` ~ `((1+2)*3)||(0)`
- `1+-2` ~ `(1+(-2))`
- `-a`
- `-0` ~ `0`
- `-2^2` ~ `-(2^2)` ~ `-4`
- `!-a`

Примеры некорректных выражений:
- `+12`
- `--a`
- `!!a`
- `-!a`


## Команды
Пусть
- `s1`, `s2`, ..., `sn` – любые корректные команды из LLang
- `var` – любое корректное имя переменной в LLang
- `expr` – любое корректное выражение в LLang
- `l1`, `l2`, `l` – любые команды, образованные с помощью операции **List of commands** ниже (т.е. имеющие вид `{ s1; ...; sn; }`)

Любые конструкции, образованные по правилам ниже, являются корректными командами в языке LLang.

Операция             | Ситнаксис___________ | Определение                                                                                                                                               
---------------------|------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------
**Assign**           | `Assign var (expr)`    | создает новую переменную с именем `var` или использует существующую, если она была опеределена до этого, и присваивает значение expr к этой переменной    
**Read**             | `Read var`             | считывает число и присваивает переменной var это значение                                                                                      
**Write**            | `Write (expr)`         | считает значение выражения expr и выводит его на экран                                                                                                    
**List of commands** | `{ s1; s2; ...; sn; }` | выполняет команды s1, s2, ..., sn последовательно                                                                                                         
**If**               | `If (expr) l1 l2`      | считает значение выражения expr, и если результат – не 0, выполняет команды l1, иначе выполняет команды l2                                                
**While**            | `While (expr) l`       | выполняет все команды l много раз, пока значение выражения expr не станет равно нулю      


## Функции
Функцию можно определить, используя следующий синтаксис.

Пусть `function_name, arg1, ..., argn` – любые корректные имена переменных (n – натуральное число, либо 0), `body` – команда, образованная с помощью правила **List of commands** выше с использованием дополнительной возможности при конструировании команд: к списку правил образования команд выше добавляется еще одно правило **Return**.
Операция             | Ситнаксис___________ | Определение        
---------------------|----------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------
**Return**           | `Return (expr)`      | может быть использована только внутри тела функции; возвращает значение выражения `expr`, как результат работы функции.

Тогда любое выражение, образованное следующим синтаксисом, является корректным определением функции в LLang:

Операция             | Ситнаксис | Определение        
---------------------|----------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------
**Function Definition** | `Def function_name(arg1, ..., argn) body` | определение функции

* Команда `Return` может быть использована в любом месте функции. Если в процесс выполнения функции не завершается командой `Return`, то возвращаемое значение по умолчанию `0`.
* Функция может быть названа так-же, как и какая-то переменная.
* Все переменные, используемые внутри функции, но не определенные заранее, по умлочанию изначально имеют значение `0`.

Примеры функций:
- `Def func(x, y) { Read n; Return (n+x+y); }`


## Программы на LLang

Пусть `f1, ..., fn` – корректные определения функций в LLang (`n` – натуральное число или 0), `main` – команда, образованная с помощью операции **List of commands**

Тогда конструкция `f1; ...; fn; main` является корректной программой на LLang.

* Пробелы должны быть расставлены так-же, как это описано в синтаксисе, не допускается писать несколько пробелов, символы табуляции или переносы строки.
* Переменные в `main`, которые используются без предварительного объявления с помощью **Assign** (например, в программе `{ Write (x); }`), будут заведены с начальным значением 0 (например, в последней программе будет выведено число `0`).
* Не допускается объявлять функции с одинаковыми названиями.
* Не допускается вызывать необъявленные функции или передавать неправильное количество аргументов.
* Функции можно вызывать в функциях; при этом порядок их следования не важен: можно в функции вызывать функцию, определение которой следует позже.

Примеры корректных программ:

- `{
  Assign x (10+10);
  While (x>10) {
    Assign x (x-1);
    Write (x);
  };
}`
- `Def f(x, y) { Return (x+y); }; Def g(x) { Return (x*x); }; { Write (f(g(3), g(4))); }`
- `Def f() { }; { }`

Примеры некорректных программ:

- `{ Write (x) }`
- `Def f() { } { Write (x); }`
- `Def f() { }; Def f(x) { Return (x); }; { }`
- `Def f() { }; { Write (f(2)); }`
- `{ Write (f(2)); }`

